<app-loading *ngIf="loading; else reports"></app-loading>

<ng-template #reports>
    <ng-container *ngIf="attempts.length > 0; else noReport">
        <c-nav variant="tabs">
            <ng-container *ngFor="let attempt of attempts; let i = index" >
                <c-nav-item>
                    <a (click)="activeTab(i)" class="reva-orange" [active]="activeTabIndex == i" [cTabContent]="tabContent" [routerLink] [tabPaneIdx]="i" cNavLink>Attempt {{i + 1}}</a>
                </c-nav-item>
            </ng-container>
        </c-nav>

        <c-tab-content #tabContent="cTabContent">
            <ng-container *ngFor="let attempt of attempts; let i = index">
                <c-tab-pane>
                    <app-reports [attemptId]="attempts[i].testInvitationId"></app-reports>
                </c-tab-pane>
            </ng-container>
        </c-tab-content>
    </ng-container>
    <ng-template #noReport>
        <div class="container">
            No Report to display, please complete an <a routerLink="/invite">interview</a>
        </div>
    </ng-template>
</ng-template>